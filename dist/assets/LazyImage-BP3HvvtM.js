import{j as s}from"./ui-vendor-DivVoQvD.js";import{r as i}from"./router-vendor-Dkr7n6Fr.js";const $=({src:e,webpSrc:a,alt:m,className:o,width:c="600",height:l="400",loading:p="lazy",fetchpriority:d="low"})=>{const[n,u]=i.useState(!1),[g,f]=i.useState(!1);return i.useEffect(()=>{const r=new IntersectionObserver(x=>{x[0].isIntersecting&&(f(!0),r.disconnect())},{rootMargin:"100px"}),t=document.getElementById(`lazy-img-${e.replace(/[^a-zA-Z0-9]/g,"")}`);return t&&r.observe(t),()=>{t&&r.unobserve(t)}},[e]),s.jsx("div",{id:`lazy-img-${e.replace(/[^a-zA-Z0-9]/g,"")}`,className:`relative lazy-image ${o||""} ${n?"":"bg-gray-200 animate-pulse"}`,style:{minHeight:`${l}px`,minWidth:`${c}px`,backgroundColor:n?"transparent":"#f0f0f0"},children:g&&s.jsxs("picture",{children:[a&&a.endsWith(".webp")&&s.jsx("source",{srcSet:`${encodeURI(a)} 1x`,type:"image/webp"}),s.jsx("img",{src:e,alt:m,width:c,height:l,loading:p,fetchpriority:d,onLoad:()=>u(!0),className:`${o||""} ${n?"opacity-100 transition-opacity duration-300":"opacity-0"}`})]})})};export{$ as L};
