import{j as s}from"./ui-vendor-C-FOzyo8.js";import{r as n}from"./router-vendor-BCXO7BZo.js";const b=({src:e,webpSrc:r,alt:c,className:i,width:l="600",height:u="400",loading:d="lazy",fetchpriority:m="low"})=>{const[a,p]=n.useState(!1),[f,g]=n.useState(!1);return n.useEffect(()=>{const o=new IntersectionObserver(y=>{y[0].isIntersecting&&(g(!0),o.disconnect())},{rootMargin:"100px"}),t=document.getElementById(`lazy-img-${e.replace(/[^a-zA-Z0-9]/g,"")}`);return t&&o.observe(t),()=>{t&&o.unobserve(t)}},[e]),s.jsx("div",{id:`lazy-img-${e.replace(/[^a-zA-Z0-9]/g,"")}`,className:`relative lazy-image ${i||""} ${a?"":"bg-gray-200 animate-pulse"}`,style:{backgroundColor:a?"transparent":"#f0f0f0"},children:f&&s.jsxs("picture",{children:[r&&r.endsWith(".webp")&&s.jsx("source",{srcSet:`${encodeURI(r)} 1x`,type:"image/webp"}),s.jsx("img",{src:e,alt:c,width:l,height:u,loading:d,fetchpriority:m,onLoad:()=>p(!0),className:`w-full h-full object-cover object-center ${i||""} ${a?"opacity-100 transition-opacity duration-300":"opacity-0"}`})]})})};export{b as L};
