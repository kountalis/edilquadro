import{j as e,A as P,m as k}from"./ui-vendor-D8a0EVEa.js";import{r,B as T,R as O,a as S,b as $}from"./router-vendor-DSKNUayp.js";import{a as H,g as Y}from"./react-vendor-BtP0CW_r.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const t of a)if(t.type==="childList")for(const p of t.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function g(a){const t={};return a.integrity&&(t.integrity=a.integrity),a.referrerPolicy&&(t.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?t.credentials="include":a.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(a){if(a.ep)return;a.ep=!0;const t=g(a);fetch(a.href,t)}})();var y={},N;function D(){if(N)return y;N=1;var n=H();return y.createRoot=n.createRoot,y.hydrateRoot=n.hydrateRoot,y}var G=D();const W=Y(G),A=({src:n,webpSrc:s,alt:g,className:i,width:a="600",height:t="400",loading:p="lazy",fetchpriority:x="low"})=>{const[c,u]=r.useState(!1),[v,b]=r.useState(!1);return r.useEffect(()=>{const j=new IntersectionObserver(z=>{z[0].isIntersecting&&(b(!0),j.disconnect())},{rootMargin:"100px"}),d=document.getElementById(`lazy-img-${n.replace(/[^a-zA-Z0-9]/g,"")}`);return d&&j.observe(d),()=>{d&&j.unobserve(d)}},[n]),e.jsx("div",{id:`lazy-img-${n.replace(/[^a-zA-Z0-9]/g,"")}`,className:`relative lazy-image ${i||""} ${c?"":"bg-gray-200 animate-pulse"}`,style:{minHeight:`${t}px`,minWidth:`${a}px`,backgroundColor:c?"transparent":"#f0f0f0"},children:v&&e.jsxs("picture",{children:[s&&s.endsWith(".webp")&&e.jsx("source",{srcSet:`${encodeURI(s)} 1x`,type:"image/webp"}),e.jsx("img",{src:n,alt:g,width:a,height:t,loading:p,fetchpriority:x,onLoad:()=>u(!0),className:`${i||""} ${c?"opacity-100 transition-opacity duration-300":"opacity-0"}`})]})})},q=r.createContext(),V=({children:n})=>{const[s,g]=r.useState(!1),[i,a]=r.useState(0),[t,p]=r.useState(null),[x,c]=r.useState(!1),[u,v]=r.useState([]),[b,j]=r.useState(0),[d,z]=r.useState(0);r.useEffect(()=>{v([{id:1,title:"Villa Moderna",category:"casa",description:"Ristrutturazione completa di una villa moderna con particolare attenzione al design degli interni e all'efficienza energetica.",images:["/projects/casaleucade1.jpeg","/projects/casaleucade2.jpeg","/projects/casaleucade3.jpeg","/projects/casaleucade4.jpeg","/projects/casaleucade5.jpeg"]},{id:8,title:"Ristorante",category:"commerciale",description:"Progettazione e ristrutturazione di un ristorante con un design moderno e funzionale per ottimizzare lo spazio e migliorare l'esperienza dei clienti.",images:["/projects/Ristorante 1.jpg","/projects/Ristorante 2.jpg","/projects/Ristorante 3.jpg","/projects/Ristorante 4.jpg","/projects/Ristorante 5.jpg"]},{id:5,title:"Negozio di Abbigliamento",category:"commerciale",description:"Restyling completo di un negozio di abbigliamento con un design elegante e moderno per valorizzare l'esposizione dei prodotti.",images:["/projects/ABBIGLIAMENTO 1.jpg","/projects/ABBIGLIAMENTO 2.jpg","/projects/ABBIGLIAMENTO 3.jpg","/projects/ABBIGLIAMENTO 4.jpg","/projects/ABBIGLIAMENTO 5.jpg","/projects/ABBIGLIAMENTO 6.jpg","/projects/ABBIGLIAMENTO 7.jpg","/projects/ABBIGLIAMENTO 8.jpg","/projects/ABBIGLIAMENTO 9.jpg"]},{id:10,title:"Complesso Residenziale",category:"edifici",description:"Ristrutturazione di un complesso residenziale con interventi su facciate, tetti e parti comuni per migliorare l'efficienza energetica e l'estetica dell'edificio.",images:["/projects/pomezia1.jpg","/projects/pomezia2.jpg","/projects/pomezia3.jpg","/projects/pomezia4.jpg","/projects/pomezia5.jpg"]},{id:11,title:"Appartamento Alessandrino",category:"casa",description:"Ristrutturazione completa di un appartamento nel quartiere Alessandrino con rifacimento di impianti, pavimenti e finiture.",images:["/projects/alessandrino1.jpg","/projects/alessandrino2.jpg","/projects/alessandrino3.jpg","/projects/alessandrino4.jpg","/projects/alessandrino5.jpg","/projects/alessandrino6.jpg","/projects/alessandrino7.jpg","/projects/alessandrino8.jpg","/projects/alessandrino9.jpg"]},{id:12,title:"Centro Yoga Hatha",category:"commerciale",description:"Progettazione e realizzazione di un centro yoga con particolare attenzione all'atmosfera, all'illuminazione e ai materiali naturali.",images:["/projects/Yoga Hatha 1.jpg","/projects/Yoga Hatha 2.jpg","/projects/Yoga Hatha 3.jpg","/projects/Yoga Hatha 4.jpg","/projects/Yoga Hatha 5.jpg","/projects/Yoga Hatha 6.jpg","/projects/Yoga Hatha 7.jpg","/projects/Yoga Hatha 8.jpg","/projects/Yoga Hatha 9.jpg","/projects/Yoga Hatha 10.jpg"]}])},[]);const R=r.useCallback((o,l=0)=>{p(o),a(l),g(!0),c(!0),document.body.style.overflow="hidden"},[]),m=r.useCallback(()=>{g(!1),document.body.style.overflow="auto",setTimeout(()=>{p(null),a(0)},300)},[]),h=r.useCallback(()=>{t&&(c(!0),a(o=>o===t.images.length-1?0:o+1))},[t]),f=r.useCallback(()=>{t&&(c(!0),a(o=>o===0?t.images.length-1:o-1))},[t]),I=r.useCallback(o=>{if(s)switch(o.key){case"ArrowRight":h();break;case"ArrowLeft":f();break;case"Escape":m();break}},[s,h,f,m]),E=o=>{j(o.targetTouches[0].clientX)},L=o=>{z(o.targetTouches[0].clientX)},C=()=>{b-d>100&&h(),b-d<-100&&f()},B=r.useCallback(o=>!o||o==="tutti"?u:u.filter(l=>l.category===o),[u]),w=o=>o&&o.match(/\.(jpg|jpeg|png)$/i)?o.replace(/\.(jpg|jpeg|png)$/i,".webp"):null;r.useEffect(()=>(document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)),[I]);const M={isModalOpen:s,currentImageIndex:i,selectedProject:t,openModal:R,closeModal:m,nextImage:h,prevImage:f,projects:u,isLoading:x,getProjectsByCategory:B};return e.jsxs(q.Provider,{value:M,children:[n,e.jsx(P,{children:s&&t&&e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center",onClick:m,children:e.jsxs(k.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25},className:"relative w-full max-w-5xl bg-gray-900/80 rounded-xl overflow-hidden shadow-2xl",onClick:o=>o.stopPropagation(),children:[e.jsx("button",{onClick:m,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors","aria-label":"Chiudi",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"relative h-[70vh] w-full bg-black",onTouchStart:E,onTouchMove:L,onTouchEnd:C,children:[x&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-green-500/30 border-t-green-500 rounded-full animate-spin"})}),e.jsx(A,{src:t.images[i],webpSrc:w(t.images[i]),alt:`${t.title} - Immagine ${i+1}`,className:"w-full h-full object-contain",onLoad:()=>c(!1),loading:"eager",fetchpriority:"high"}),t.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:o=>{o.stopPropagation(),f()},className:"absolute left-4 top-1/2 transform -translate-y-1/2 p-3 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors","aria-label":"Immagine precedente",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:o=>{o.stopPropagation(),h()},className:"absolute right-4 top-1/2 transform -translate-y-1/2 p-3 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors","aria-label":"Immagine successiva",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),t.images.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 px-3 py-1 rounded-full bg-black/70 text-white text-sm",children:[i+1," / ",t.images.length]})]}),e.jsxs("div",{className:"p-6 bg-gradient-to-t from-gray-900 to-gray-800",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:t.title}),e.jsx("p",{className:"text-green-400 mb-4",children:t.category.charAt(0).toUpperCase()+t.category.slice(1)}),t.description&&e.jsx("p",{className:"text-gray-300",children:t.description}),t.images.length>1&&e.jsx("div",{className:"mt-4 overflow-x-auto pb-2",children:e.jsx("div",{className:"flex space-x-2",children:t.images.map((o,l)=>e.jsx("button",{onClick:()=>{a(l),c(!0)},className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all ${i===l?"border-green-500 scale-110":"border-transparent opacity-70"}`,"aria-label":`Vai all'immagine ${l+1}`,children:e.jsx(A,{src:o,webpSrc:w(o),alt:`Miniatura ${l+1}`,className:"w-full h-full object-cover",width:"64",height:"64"})},l))})})]})]})})})]})};function F(){return console.log("RENDER APP"),e.jsx(V,{children:e.jsx(T,{children:e.jsx(O,{children:e.jsx(S,{path:"/",element:e.jsx("div",{style:{color:"purple",fontSize:32,textAlign:"center",padding:"50px"},children:"PROJECT PROVIDER OK"})})})})})}console.log("APP STARTED");W.createRoot(document.getElementById("root")).render(e.jsx($.StrictMode,{children:e.jsx(F,{})}));
