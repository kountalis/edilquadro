import{j as s}from"./ui-vendor-C-FOzyo8.js";import{r as o}from"./router-vendor-BCXO7BZo.js";const z=({src:e,webpSrc:a,alt:l,className:i,width:c="600",height:u="400",loading:d="lazy",fetchpriority:m="low"})=>{const[r,p]=o.useState(!1),[f,g]=o.useState(!1);return o.useEffect(()=>{const n=new IntersectionObserver(y=>{y[0].isIntersecting&&(g(!0),n.disconnect())},{rootMargin:"100px"}),t=document.getElementById(`lazy-img-${e.replace(/[^a-zA-Z0-9]/g,"")}`);return t&&n.observe(t),()=>{t&&n.unobserve(t)}},[e]),s.jsx("div",{id:`lazy-img-${e.replace(/[^a-zA-Z0-9]/g,"")}`,className:`relative lazy-image ${i||""} ${r?"":"bg-gray-200 animate-pulse"}`,style:{backgroundColor:r?"transparent":"#f0f0f0"},children:f&&s.jsxs("picture",{children:[a&&a.endsWith(".webp")&&s.jsx("source",{srcSet:`${encodeURI(a)} 1x`,type:"image/webp"}),s.jsx("img",{src:e,alt:l,width:c,height:u,loading:d,fetchpriority:m,onLoad:()=>p(!0),className:`w-full h-full ${i||""} ${r?"opacity-100 transition-opacity duration-300":"opacity-0"}`})]})})};export{z as L};
