name = "edilquadro-prerender"
main = "src/worker.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[build]
command = "npm install && npm run build:worker"
cwd = "."
watch_paths = ["src/worker.js"]

[env.production]
routes = [
  { pattern = "edilquadro.it/*", zone_name = "edilquadro.it" },
  { pattern = "www.edilquadro.it/*", zone_name = "edilquadro.it" }
]

[env.staging]
routes = [
  { pattern = "staging.edilquadro.it/*", zone_name = "staging.edilquadro.it" }
]

# Environment variables
[vars]
PRERENDER_TOKEN = "w2gqqMwErwI5gtkoxCnD"
PRERENDER_DOMAIN = "https://service.prerender.io"

# Cache configuration
[docs]
title = "Edilquadro Prerender Worker"
description = "Cloudflare Worker per SEO con Prerender.io"
